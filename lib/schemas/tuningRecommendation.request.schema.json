{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "tuningRecommendation.request.schema.json",
  "title": "TuningRecommendationRequest",
  "type": "object",
  "properties": {
    "profile": { "$ref": "./traderProfile.schema.json" },
    "currentSettings": {
      "type": "object",
      "properties": {
        "LIQUIDITY_FLOOR_USD": { "type": "number" },
        "SPREAD_CEILING_PCT": { "type": "number" },
        "SLIPPAGE_PCT": { "type": "number" },
        "MAX_POSITION_PCT": { "type": "number" },
        "TRAIL_STOP_TYPE": { "type": "string", "enum": ["trailing", "fixed"] },
        "TRAIL_PCT": { "type": "number" },
        "TRAIL_ARM_AT_PROFIT_PCT": { "type": "number" },
        "PRIORITY_FEE_SOL": { "type": "number" }
      },
      "additionalProperties": { "type": ["number", "string", "boolean"] }
    },
    "recentPnL": {
      "type": "object",
      "properties": {
        "netAfterFees7d": { "type": "number" },
        "winRate7d": { "type": "number" }
      },
      "additionalProperties": false
    }
  },
  "required": ["profile", "currentSettings"],
  "additionalProperties": false
}