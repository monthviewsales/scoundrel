{
  "schemaVersion": "2.0.0",
  "strategyId": "hybrid-v2.0",
  "name": "HYBRIDV2",
  "description": "Momentum-based trade management with partial entries, trailing exits, and a medium holding horizon. Allows brief weakness while enforcing structural risk controls. Sits between FLASH and CAMPAIGN.",
  "defaults": {
    "pollIntervalMs": 60000,
    "eventIntervals": ["1m", "5m", "15m", "1h"],
    "ohlcv": {
      "type": "1m",
      "lookbackMs": 3600000,
      "fastCache": true,
      "removeOutliers": true
    },
    "indicators": {
      "vwapPeriods": 60
    }
  },
  "dataRequirements": {
    "requires": ["coin", "pool", "risk"],
    "recommended": ["ohlcv", "indicators", "pnl", "events"],
    "freshnessMs": {
      "coin": 240000,
      "pool": 240000,
      "events": 240000,
      "risk": 240000
    },
    "warnings": {
      "forbidden": [
        "coin_missing",
        "pool_missing",
        "risk_missing",
        "coin_stale",
        "pool_stale",
        "risk_stale"
      ],
      "tolerated": [
        "events_missing:1m",
        "events_missing:5m",
        "events_missing:15m",
        "events_missing:1h",
        "ohlcv_failed",
        "ohlcv_empty"
      ]
    }
  },
  "qualify": {
    "notes": "Eligibility gates for HYBRID. Failure typically degrades posture rather than forcing immediate exit unless structurally unsafe.",
    "gates": [
      {
        "id": "gate.data.freshness",
        "type": "warnings_forbidden_absent",
        "params": {
          "forbidden": ["coin_missing", "pool_missing", "risk_missing", "pool_stale", "risk_stale"]
        },
        "severityOnFail": "exit"
      },
      {
        "id": "gate.risk.rug",
        "type": "field_equals",
        "params": { "path": "risk.rugged", "value": 0 },
        "severityOnFail": "exit"
      },
      {
        "id": "gate.risk.score.max",
        "type": "number_lte",
        "params": { "path": "risk.riskScore", "max": 7 },
        "severityOnFail": "degrade"
      },
      {
        "id": "gate.holders.top10",
        "type": "number_lte",
        "params": { "path": "risk.top10Percent", "max": 22 },
        "severityOnFail": "degrade"
      },
      {
        "id": "gate.holders.snipers",
        "type": "number_lte",
        "params": { "path": "risk.snipersTotalPercent", "max": 10 },
        "severityOnFail": "degrade"
      },
      {
        "id": "gate.holders.dev",
        "type": "number_lte",
        "params": { "path": "risk.devPercent", "max": 2 },
        "severityOnFail": "degrade"
      },
      {
        "id": "gate.liquidity.minUsd",
        "type": "number_gte",
        "params": { "path": "pool.liquidity_usd", "min": 20000 },
        "severityOnFail": "exit"
      }
    ]
  },
  "entry": {
    "sizing": {
      "inputs": {
        "baseUnitSol": 0.05,
        "maxNotionalSol": 4.0
      }
    }
  },
  "manage": {
    "trailingStop": {
      "activationPct": 10,
      "trailPct": 5,
      "pollMs": 5000,
      "breachConfirmations": 2,
      "actionDebounceMs": 30000,
      "hardStopLossPct": 15
    }
  },
  "portfolio": {
    "limits": {
      "maxOpenPositions": 5,
      "maxNotionalSolPerPosition": 4.0
    }
  }
}